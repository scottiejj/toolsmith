[
    {
        "task": "Prepare Modeling Data Matrices (Feature Selection & Consistency)",
        "tools, involved features and correct parameters": [
            "Tools: Pandas for DataFrame manipulation and type checking.",
            "For processed_train.csv: Separate y = NObeyesdad. Drop id and NObeyesdad.",
            "For processed_test.csv: Drop id.",
            "Ensure train and test feature columns are identical, both in order and data type.",
            "Retain only numeric and one-hot encoded features. Exclude any string/categorical columns not already encoded (drop BMI_category string, keep BMI_category_* one-hot columns).",
            "Final feature set includes all engineered, standardized, and one-hot columns except id and NObeyesdad."
        ],
        "expected output or impact on data": [
            "X_train, y_train (for modeling) and X_test (for prediction), with identical feature sets.",
            "Printed list of final feature columns and their types."
        ],
        "constraints": [
            "No feature engineering, encoding, or alteration\u2014use only existing processed features.",
            "Do not modify source files; work on copies."
        ]
    },
    {
        "task": "Model Training and Cross-Validation (Up to 3 Models)",
        "tools, involved features and correct parameters": [
            "Tools: Provided functions (fit_and_evaluate_logistic_regression, fit_and_evaluate_random_forest, fit_and_evaluate_svc), obesity_grouped_stratified_kfold.",
            "Involved Features: Use all features from STEP 1 for every model.",
            "Logistic Regression: cv=5, solver='liblinear', max_iter=500, random_state=42.",
            "Random Forest: cv=5, n_estimators=100, random_state=42.",
            "SVC: cv=5, kernel='rbf', C=1.0, gamma='scale', random_state=42.",
            "Stratified cross-validation for all models."
        ],
        "expected output or impact on data": [
            "Cross-validated accuracy and macro-F1 for each model (mean and std).",
            "Printed table summarizing results for all models."
        ],
        "constraints": [
            "Train a maximum of three models.",
            "Use same feature set for all models.",
            "No feature selection, tuning, or engineering during this step."
        ]
    },
    {
        "task": "Final Model Selection & Test Set Prediction",
        "tools, involved features and correct parameters": [
            "Tools: Fitted estimators from STEP 2, obesity_prediction_calibrator, soft_voting_ensemble_predict.",
            "Involved Features: Use same feature set as STEP 2.",
            "Select model with highest mean CV accuracy.",
            "Retrain selected model on full training data.",
            "For probabilistic models, use .predict_proba() and map to labels using obesity_prediction_calibrator.",
            "If two models are very close in performance, optionally create a soft-voting ensemble of their predictions."
        ],
        "expected output or impact on data": [
            "Predicted NObeyesdad classes for all test set rows.",
            "Printed class distribution for test predictions."
        ],
        "constraints": [
            "Use only the top-performing model or ensemble (if justified).",
            "Do not change features or retrain with a different feature set."
        ]
    },
    {
        "task": "Submission File Generation and Sanity Checks",
        "tools, involved features and correct parameters": [
            "Tools: obesity_submission_formatter, Pandas.",
            "Involved Features: Use test set id and predicted NObeyesdad.",
            "Format predictions into a DataFrame with columns id and NObeyesdad.",
            "Check that all test IDs are present and predictions match test set size.",
            "Print value counts for predicted classes.",
            "Save output as submission.csv."
        ],
        "expected output or impact on data": [
            "Submission-ready CSV file in the correct format.",
            "Printed confirmation of sanity checks (row count, class labels, format)."
        ],
        "constraints": [
            "Do not alter predictions after file generation.",
            "Ensure strict compliance with competition submission format."
        ]
    }
]